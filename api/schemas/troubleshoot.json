{
	"$schema": "http://json-schema.org/draft-07/schema",
	"$id": "https://apidocs.iqrf.org/iqrf-gateway-webapp-api/schemas/troubleshoot.json",
	"type": "object",
	"title": "Troubleshooting data",
	"required": [
		"daemon",
		"features"
	],
	"properties": {
		"daemon": {
			"$id": "#/properties/daemon",
			"type": "object",
			"title": "IQRF GW Daemon troubleshooting data",
			"required": [
				"config",
				"interfaces"
			],
			"properties": {
				"config": {
					"$id": "#/properties/daemon/properties/config",
					"type": "array",
					"title": "Daemon configuration files",
					"additionalItems": false,
					"items": [
						{
							"$id": "#/properties/daemon/properties/config/items",
							"type": "object",
							"title": "Daemon configuration file",
							"required": [
								"name",
								"permission",
								"dir"
							],
							"example": {
								"name": "config.json",
								"permission": 666,
								"dir": false
							},
							"additionalProperties": false,
							"properties": {
								"name": {
									"$id": "#/properties/daemon/properties/config/items/name",
									"type": "string",
									"title": "File name",
									"example": "config.json"
								},
								"permission": {
									"$id": "#/properties/daemon/properties/config/items/permission",
									"type": "integer",
									"title": "File permission",
									"example": 666
								},
								"dir": {
									"$id": "#/properties/daemon/properties/config/items/dir",
									"type": "boolean",
									"title": "Is directory?",
									"example": false
								}
							}
						}
					]
				},
				"interfaces": {
					"$id": "#/properties/daemon/properties/interfaces",
					"type": "array",
					"title": "Enabled IQRF interfaces",
					"items": [
						{
							"type": "string",
							"enum": [
								"",
								"iqrf::IqrfCdc",
								"iqrf::IqrfSpi",
								"iqrf::IqrfUart"
							]
						}
					]
				}
			},
			"additionalProperties": false
		},
		"features": {
			"$id": "#/properties/features",
			"type": "array",
			"title": "Gateway features",
			"items": [
				{
					"type": "object",
					"required": [
						"name",
						"installed",
						"config",
						"permission"
					],
					"properties": {
						"name": {
							"$id": "#/properties/feature/properties/name",
							"type": "string",
							"title": "Feature name",
							"example": "controller"
						},
						"installed": {
							"$id": "#/properties/feature/properties/installed",
							"type": "boolean",
							"title": "Is feature installed?",
							"enum": [true, false],
							"example": false
						},
						"config": {
							"$id": "#/properties/feature/properties/config",
							"type": "boolean",
							"title": "Configuration found",
							"enum": [true, false],
							"example": true
						},
						"permission": {
							"$id": "#/properties/feature/properties/permission",
							"type": "integer",
							"title": "Configuration permission",
							"description": "Octal permission code, if the value is -1, an error has occured while retrieving permissions",
							"example": 644
						}
					},
					"additionalProperties": false
				}
			]
		}
	},
	"additionalProperties": false
}
